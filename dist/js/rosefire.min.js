!function(e){var n=function(e,n){var r=new XMLHttpRequest;return"withCredentials"in r?r.open(e,n,!0):"undefined"!=typeof XDomainRequest?(r=new XDomainRequest,r.open(e,n)):r=null,r},r=function(e,r){xhr=n("POST","https://rosefire.csse.rose-hulman.edu/api/auth"),xhr.setRequestHeader("Content-Type","application/json"),xhr.onload=function(){if(200===xhr.status){var e=JSON.parse(xhr.responseText);r(null,e.token)}else r(xhr.responseText?new Error(xhr.responseText):new Error("Error authenticating"))},xhr.onerror=function(){r(new Error("Error making request to Rosefire"))},xhr.send(JSON.stringify(e))};"undefined"!=typeof Firebase&&(Firebase.prototype.authWithRoseHulman=function(e,n,t,o,s){var i={registryToken:e,email:n,password:t};s?i.options=o:s=o,r(i,function(e,n){e?s(e):this.authWithCustomToken(n,s)}.bind(this))}),e.Rosefire={},e.Rosefire.getToken=r}(this);