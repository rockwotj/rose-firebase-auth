!function(e){var n=function(e,n){var o=encodeURIComponent(e),i=encodeURIComponent(location.origin),r=window.open("https://rosefire.csse.rose-hulman.edu/webview/login?platform=web&registryToken="+o+"&referrer="+i,"_blank"),t=setInterval(function(){r.closed&&(clearInterval(t),n&&(n(new Error("Login cancelled")),n=null))},500);window.addEventListener("message",function(e){var o=e.origin||e.originalEvent.origin;if("https://rosefire.csse.rose-hulman.edu"!==o)return void console.error("Invalid origin:"+o);var i=n;n=null,e.source.close(),i&&i(null,e.data)})};"undefined"!=typeof Firebase&&(Firebase.prototype.authWithRoseHulman=function(e,o){n(e,function(e,n){e?o(e):this.authWithCustomToken(n,o)}.bind(this))}),e.Rosefire={},e.Rosefire.getToken=n}(this);