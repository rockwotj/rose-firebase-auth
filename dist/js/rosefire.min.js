!function(e){var r=function(e,r){var n=new XMLHttpRequest;return"withCredentials"in n?n.open(e,r,!0):"undefined"!=typeof XDomainRequest?(n=new XDomainRequest,n.open(e,r)):n=null,n},n=function(e,n){xhr=r("POST","https://rosefire.csse.rose-hulman.edu/api/auth"),xhr.setRequestHeader("Content-Type","application/json"),xhr.onload=function(){if(200===xhr.status){var e=JSON.parse(xhr.responseText);n(null,e.token)}else n(xhr.responseText?new Error(xhr.responseText):new Error("Error authenticating"))},xhr.onerror=function(){n(new Error("Error making request to Rosefire"))},xhr.send(JSON.stringify(e))};Firebase&&(Firebase.prototype.authWithRoseHulman=function(e,r,t,o,s){var i={registryToken:e,email:r,password:t};s?i.options=o:s=o,n(i,function(e,r){e?s(e):this.authWithCustomToken(r,s)}.bind(this))}),e.Rosefire={},e.Rosefire.getToken=n}(this);