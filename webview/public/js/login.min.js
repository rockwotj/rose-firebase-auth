"use strict";var reportError=function(e){console.error(e),document.getElementById("password-input").classList.add("has-error"),document.getElementById("error").innerHTML=e},loginResult=function(){console.log(this.status);var e=document.getElementById("submit");if(200===this.status){var t=JSON.parse(this.responseText);t.username="rockwotj",e.classList.remove("btn-primary"),e.classList.add("btn-success"),e.innerHTML=t.username+" logged in",window.setTimeout(loggedIntoRosefire(this.responseText),1e3)}else{console.log(this.status);try{var s=JSON.parse(this.responseText);reportError(s.error)}catch(n){reportError("Could not reach server")}e.disabled=!1}},handleLogin=function(e){e.preventDefault&&e.preventDefault(),document.getElementById("submit").disabled=!0;var t=document.getElementById("username").value,s=document.getElementById("password").value;console.log(t+" is trying to login");var n=new XMLHttpRequest;return n.onload=loginResult,n.open("POST","https://httpbin.org/post",!0),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify({username:t,password:s})),!1},form=document.getElementById("signin-form");form.attachEvent?form.attachEvent("submit",handleLogin):form.addEventListener("submit",handleLogin);